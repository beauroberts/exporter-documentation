(()=>{var t={"./assets/js/search.js":()=>{function t(t){$(".SNSearch").toggleClass("active"),$(".SNSearch").is(".active")&&($(".SNSearch-input").val(""),$(".SNSearch-input").focus(),$(".SNSearch-results").html('<p class="section-title empty">Start your search by typing your phrase</p>')),t.preventDefault()}function e(){$(".SNSearch").is(".active")&&$(".SNSearch").removeClass("active")}$(".search").on("click",(function(e){t(),e.preventDefault()})),$(".SNSearch").on("click",(function(t){e()})),$(".SNSearch-box").on("click",(function(t){t.stopPropagation()})),document.addEventListener("animationstart",(function(t){"fade-in"===t.animationName&&t.target.classList.add("did-fade-in")})),document.addEventListener("animationend",(function(t){"fade-out"===t.animationName&&t.target.classList.remove("did-fade-in")}));let n=0;function s(){$(".sn-search-result-link").removeClass("selected");const t=$(`.sn-search-result-link:eq(${n})`);t&&(t.addClass("selected"),function(t,e){let n=t.getBoundingClientRect(),s=e.getBoundingClientRect();n.bottom>s.bottom&&t.scrollIntoView(!1);n.top<s.top&&t.scrollIntoView()}(t[0],t.parent()[0]))}function a(t,e,n){if(-1===e)return t;return`${t.substring(0,e)}<span>${t.substring(e,n)}</span>${t.substring(n)}`}$(".SNSearch-input").on("input",(function(t){let i=$(this).val(),o=$(".SNSearch-results");if(i.length<2)return void o.html('<p class="section-title empty">Start your search by typing your phrase</p>');let r=new Fuse(FuseSearchData,{shouldSort:!0,threshold:.1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,ignoreLocation:!0,keys:["text"]}).search(i);if(0===r.length)return void o.html('<p class="section-title empty">No results found, change your search phrase</p>');o.html("");let c=[],l=[],d=[];for(let t of r){let e=t.item;e.startIndex=e.text.toLowerCase().indexOf(i.toLowerCase()),e.endIndex=e.startIndex+i.length,"contentBlock"===e.type?c.push(e):"sectionHeader"===e.type?l.push(e):d.push(e)}if(d.length>0){let t=d;o.append(`<p class="section-title">Pages & Categories (${t.length})</p>`);let e=0;for(let n of t)if(o.append(`\n\t\t  <a href="${n.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(n.text,n.startIndex,n.endIndex)}</p>\n\t\t\t<p class="section-result-text">${n.category}</p>\n\t\t  </div>\n\t\t  </a>`),++e>5)break}if(l.length>0){o.append(`<p class="section-title">Content sections (${l.length})</p>`);let t=0;for(let e of l)if(o.append(`\n\t\t  <a href="${e.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(e.text,e.startIndex,e.endIndex)}</p>\n\t\t\t<p class="section-result-text">On page ${e.category}</p>\n\t\t  </div>\n\t\t  </a>`),++t>5)break}if(c.length>0){o.append(`<p class="section-title">Content (${c.length})</p>`);let t=0;for(let e of c)if(o.append(`\n\t\t  <a href="${e.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(e.text,e.startIndex,e.endIndex)}</p>\n\t\t\t<p class="section-result-text">On page ${e.category}</p>\n\t\t  </div>\n\t\t  </a>`),++t>20)break}$(".sn-search-result-link").on("click",(function(t){e()})),n=0,s()})),hotkeys.filter=function(t){return!0},hotkeys("cmd+k,ctrl+k,esc, up, down, enter, return",(function(a,i){switch(i.key){case"esc":o=a,$(".SNSearch-input").val().length>0?$(".SNSearch-input").val(""):$(".SNSearch").removeClass("active"),o.preventDefault();break;case"cmd+k":case"ctrl+k":t(a);break;case"up":!function(t){$(".SNSearch").is(".active")&&(t.preventDefault(),n>0&&n--,s())}(a);break;case"down":!function(t){$(".SNSearch").is(".active")&&(t.preventDefault(),n<$(".sn-search-result-link").length-1&&n++,s())}(a);break;case"enter":case"return":!function(t){if(!$(".SNSearch").is(".active"))return;t.preventDefault();const s=$(`.sn-search-result-link:eq(${n})`);if(s){const t=s.attr("href");t&&(window.location.href=t,e())}}(a)}var o}))},"./assets/js/syncscroll.js":function(t,e){var n,s,a;s=[e],n=function(t){var e="Width",n="Height",s="Top",a="Left",i="scroll",o="client",r="EventListener",c="add"+r,l="length",d=Math.round,u={},p=function(){var t,p,h,f,g,v=document.getElementsByClassName("sync"+i);for(g in u)if(u.hasOwnProperty(g))for(t=0;t<u[g][l];t++)u[g][t]["remove"+r](i,u[g][t].syn,0);for(t=0;t<v[l];)if(f=p=0,g=(h=v[t++]).getAttribute("name")){for(h=h[i+"er"]||h;p<(u[g]=u[g]||[])[l];)f|=u[g][p++]==h;f||u[g].push(h),h.eX=h.eY=0,function(t,r){t[c](i,t.syn=function(){var c,p=u[r],h=t[i+a],f=t[i+s],g=h/(t[i+e]-t[o+e]),v=f/(t[i+n]-t[o+n]),$=h!=t.eX,m=f!=t.eY,x=0;for(t.eX=h,t.eY=f;x<p[l];)(c=p[x++])!=t&&($&&d(c[i+a]-(h=c.eX=d(g*(c[i+e]-c[o+e]))))&&(c[i+a]=h),m&&d(c[i+s]-(f=c.eY=d(v*(c[i+n]-c[o+n]))))&&(c[i+s]=f))},0)}(h,g)}};"complete"==document.readyState?p():window[c]("load",p,0),t.reset=p},void 0===(a="function"==typeof n?n.apply(e,s):n)||(t.exports=a)},"./assets/js/toast.js":()=>{$.extend({toast:function(t){if(!$("#toast-div").length){var e=t.title,n=t.duration||2e3,s=t.width||"auto",a=t.height||"16px",i=t.position||"",o=t.backgroundColor||"rgba(0, 0, 0, .7)",r=t.textColor||"#fff";if("bottom"==i?i="bottom: 48px;":"middle"==i?i="top: calc(45% - 15px);":"top"==i?i="top: 0px;":""===i&&(i="top: 80%;"),t.flag||!0)var c="<div id='toast-div' style='position: fixed;display: none; z-index:999;font-size: 18px; "+i+";left: 0;width:100%; height: "+a+"; text-align: center'>";else c="<div id='toast-div' style='position: fixed; display: none;z-index:999; font-size: 14px; font-weight: 500; top: 0; left: 0;width:100%; height:100%; text-align: center'>";c+='<div id="toast-content" style="display: inline-block; width: '+s+";min-height: "+a+";padding: 8px;background-color: "+o+";text-align: center;font-size: 14px; font-weight: 500;line-height: "+(t.lineheight||a)+";border-radius: 4px;color: "+r+';">'+e+"</div>",c+="</div>",$("body").append(c),$("#toast-div").fadeIn(200),setTimeout((function(){$("#toast-div").fadeOut(200)}),n),setTimeout((function(){$("#toast-div").remove()}),n+300)}}})},"./scss/main.scss":(t,e,n)=>{"use strict";n.r(e)}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./assets/js/toast.js"),n("./assets/js/syncscroll.js"),n("./assets/js/search.js");n("./scss/main.scss")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cURDM0RFYSxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFyRCxRQUdyQixJQUFJdUQsRUFBU0wsRUFBeUJFLEdBQVksQ0FHakRwRCxRQUFTLENBQUMsR0FPWCxPQUhBd0QsRUFBb0JKLEdBQVVLLEtBQUtGLEVBQU92RCxRQUFTdUQsRUFBUUEsRUFBT3ZELFFBQVNtRCxHQUdwRUksRUFBT3ZELE9BQ2YsQ0NyQkFtRCxFQUFvQk8sRUFBSzFELElBQ0gsb0JBQVgyRCxRQUEwQkEsT0FBT0MsYUFDMUNDLE9BQU9DLGVBQWU5RCxFQUFTMkQsT0FBT0MsWUFBYSxDQUFFRyxNQUFPLFdBRTdERixPQUFPQyxlQUFlOUQsRUFBUyxhQUFjLENBQUUrRCxPQUFPLEdBQU8sRUNIOURaLEVBQW9CLHdCQUVwQkEsRUFBb0IsNkJBQ3BCQSxFQUFvQix5QkFDTUEsRUFBb0IsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbi1leHBvcnQtY29tcGlsZS8uL2Fzc2V0cy9qcy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vc24tZXhwb3J0LWNvbXBpbGUvLi9hc3NldHMvanMvc3luY3Njcm9sbC5qcyIsIndlYnBhY2s6Ly9zbi1leHBvcnQtY29tcGlsZS8uL2Fzc2V0cy9qcy90b2FzdC5qcyIsIndlYnBhY2s6Ly9zbi1leHBvcnQtY29tcGlsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zbi1leHBvcnQtY29tcGlsZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3NuLWV4cG9ydC1jb21waWxlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgU2VhcmNoIC0gSW50ZXJmYWNlIG1hbmlwdWxhdGlvblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4kKCcuc2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHNob3dTZWFyY2goKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxuJCgnLlNOU2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGhpZGVJZlNob3duU2VhcmNoKCk7XG59KTtcblxuJCgnLlNOU2VhcmNoLWJveCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufSk7XG5cbmZ1bmN0aW9uIHNob3dTZWFyY2goZSkge1xuICAgIC8vIFNob3cgdGhlIHNlYXJjaCB2aWV3IGJ5IHJ1bm5pbmcgZmFkZS1pbiBvZiB0aGUgdmlld1xuICAgICQoJy5TTlNlYXJjaCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBpZiAoJCgnLlNOU2VhcmNoJykuaXMoJy5hY3RpdmUnKSkge1xuICAgICAgICAvLyBSZW1vdmUgYWxsIHJlc3VsdHNcbiAgICAgICAgJCgnLlNOU2VhcmNoLWlucHV0JykudmFsKCcnKTtcbiAgICAgICAgJCgnLlNOU2VhcmNoLWlucHV0JykuZm9jdXMoKTtcbiAgICAgICAgJCgnLlNOU2VhcmNoLXJlc3VsdHMnKS5odG1sKFxuICAgICAgICAgICAgYDxwIGNsYXNzPVwic2VjdGlvbi10aXRsZSBlbXB0eVwiPlN0YXJ0IHlvdXIgc2VhcmNoIGJ5IHR5cGluZyB5b3VyIHBocmFzZTwvcD5gXG4gICAgICAgICk7XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gaGlkZU9yQ2xlYXJTZWFyY2goZSkge1xuICAgIC8vIEhpZGUgdGhlIHNlYXJjaCB2aWV3IGJ5IHJ1bm5pbmcgZmFkZS1vdXQgb2YgdGhlIHZpZXcgb3IgY2xlYXIgaW5wdXQgaWYgbm90IGVtcHR5XG4gICAgaWYgKCQoJy5TTlNlYXJjaC1pbnB1dCcpLnZhbCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLlNOU2VhcmNoLWlucHV0JykudmFsKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuU05TZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gaGlkZUlmU2hvd25TZWFyY2goKSB7XG4gICAgaWYgKCQoJy5TTlNlYXJjaCcpLmlzKCcuYWN0aXZlJykpIHtcbiAgICAgICAgJCgnLlNOU2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uc3RhcnQnLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUuYW5pbWF0aW9uTmFtZSA9PT0gJ2ZhZGUtaW4nKSB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2RpZC1mYWRlLWluJyk7XG4gICAgfVxufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5hbmltYXRpb25OYW1lID09PSAnZmFkZS1vdXQnKSB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2RpZC1mYWRlLWluJyk7XG4gICAgfVxufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBTZWFyY2ggLSBSZXN1bHRzIGFuZCBwcm9jZXNzaW5nXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmxldCBhY3RpdmVTZWFyY2hSZXN1bHRzID0gW107XG5sZXQgYWN0aXZlU2VhcmNoSW5kZXggPSAwO1xuXG4kKCcuU05TZWFyY2gtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHNlYXJjaFN0cmluZyA9ICQodGhpcykudmFsKCk7XG4gICAgbGV0IHJlc3VsdE9iamVjdCA9ICQoJy5TTlNlYXJjaC1yZXN1bHRzJyk7XG5cbiAgICAvLyBEb24ndCBzZWFyY2ggZm9yIHNtYWxsIHN0cmluZ3NcbiAgICBpZiAoc2VhcmNoU3RyaW5nLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmVzdWx0T2JqZWN0Lmh0bWwoXG4gICAgICAgICAgICBgPHAgY2xhc3M9XCJzZWN0aW9uLXRpdGxlIGVtcHR5XCI+U3RhcnQgeW91ciBzZWFyY2ggYnkgdHlwaW5nIHlvdXIgcGhyYXNlPC9wPmBcbiAgICAgICAgKTtcbiAgICAgICAgLy8gTm8gcmVzdWx0c1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIHNlYXJjaC4gTm90ZSB0aGF0IHRoaXMgY2FuIGJlIGNoYW5nZWQgc28gdGhlIHNlYXJjaCByZXR1cm5zIGZ1enp5IHJlc3VsdHNcbiAgICAvLyBieSBjaGFuZ2luZyB0aGUgdHJhc2hvbGQsIGRpc3RhbmNlIChzZWUgZXhhbXBsZSA+IGh0dHBzOi8vZnVzZWpzLmlvL2RlbW8uaHRtbClcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc2hvdWxkU29ydDogdHJ1ZSxcbiAgICAgICAgdGhyZXNob2xkOiAwLjEsXG4gICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICBkaXN0YW5jZTogMTAwLFxuICAgICAgICBtYXhQYXR0ZXJuTGVuZ3RoOiAzMixcbiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAxLFxuICAgICAgICBpZ25vcmVMb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAga2V5czogWyd0ZXh0J11cbiAgICB9O1xuXG4gICAgLy8gTm90ZTogRnVzZVNlYXJjaERhdGEgaXMgaW5kZXggY3JlYXRlZCBieSB0aGUgZXhwb3J0ZXIsIGxvYWRlZCBmcm9tIHNpLmpzXG4gICAgY29uc3QgZnVzZSA9IG5ldyBGdXNlKEZ1c2VTZWFyY2hEYXRhLCBvcHRpb25zKTtcbiAgICBsZXQgc2VhcmNoUmVzdWx0ID0gZnVzZS5zZWFyY2goc2VhcmNoU3RyaW5nKTtcblxuICAgIGlmIChzZWFyY2hSZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIE5vIHJlc3VsdCBmb3VuZFxuICAgICAgICByZXN1bHRPYmplY3QuaHRtbChcbiAgICAgICAgICAgIGA8cCBjbGFzcz1cInNlY3Rpb24tdGl0bGUgZW1wdHlcIj5ObyByZXN1bHRzIGZvdW5kLCBjaGFuZ2UgeW91ciBzZWFyY2ggcGhyYXNlPC9wPmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHNlYXJjaFxuICAgIHJlc3VsdE9iamVjdC5odG1sKCcnKTtcblxuICAgIC8vIFByZXBhcmUgZGF0YVxuICAgIGxldCBjb250ZW50UmVzdWx0cyA9IFtdO1xuICAgIGxldCBzZWN0aW9uUmVzdWx0cyA9IFtdO1xuICAgIGxldCBwYWdlUmVzdWx0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgcmVzdWx0IG9mIHNlYXJjaFJlc3VsdCkge1xuICAgICAgICBsZXQgaXRlbSA9IHJlc3VsdC5pdGVtO1xuICAgICAgICBpdGVtLnN0YXJ0SW5kZXggPSBpdGVtLnRleHRcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAuaW5kZXhPZihzZWFyY2hTdHJpbmcudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGl0ZW0uZW5kSW5kZXggPSBpdGVtLnN0YXJ0SW5kZXggKyBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuXG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdjb250ZW50QmxvY2snKSB7XG4gICAgICAgICAgICBjb250ZW50UmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb25IZWFkZXInKSB7XG4gICAgICAgICAgICBzZWN0aW9uUmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZVJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBwYWdlc1xuICAgIGlmIChwYWdlUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gcGFnZVJlc3VsdHM7XG4gICAgICAgIHJlc3VsdE9iamVjdC5hcHBlbmQoXG4gICAgICAgICAgICBgPHAgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+UGFnZXMgJiBDYXRlZ29yaWVzICgke3Jlc3VsdHMubGVuZ3RofSk8L3A+YFxuICAgICAgICApO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgcmVzdWx0T2JqZWN0LmFwcGVuZChgXG5cdFx0ICA8YSBocmVmPVwiJHtyZXN1bHQudXJsfVwiIGNsYXNzPVwic24tc2VhcmNoLXJlc3VsdC1saW5rXCI+XG5cdFx0ICA8ZGl2IGNsYXNzPVwicmVzdWx0XCI+XG5cdFx0XHQ8cCBjbGFzcz1cInNlY3Rpb24tcmVzdWx0LWhlYWRlclwiPiR7aGlnaGxpZ2h0UmFuZ2VzKFxuICAgICAgICByZXN1bHQudGV4dCxcbiAgICAgICAgcmVzdWx0LnN0YXJ0SW5kZXgsXG4gICAgICAgIHJlc3VsdC5lbmRJbmRleFxuICAgICAgKX08L3A+XG5cdFx0XHQ8cCBjbGFzcz1cInNlY3Rpb24tcmVzdWx0LXRleHRcIj4ke3Jlc3VsdC5jYXRlZ29yeX08L3A+XG5cdFx0ICA8L2Rpdj5cblx0XHQgIDwvYT5gKTtcbiAgICAgICAgICAgIC8vIEFsbG93IHVwIHRvIDUgcmVzdWx0cyB0byBiZSBzaG93blxuICAgICAgICAgICAgaWYgKCsrY291bnQgPiA1KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzdWx0cyBtYXRjaGluZyB0aXRsZXMgZmlyc3QsIHRoZW4gdGV4dCBibG9jayByZXN1bHRzXG4gICAgaWYgKHNlY3Rpb25SZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0T2JqZWN0LmFwcGVuZChcbiAgICAgICAgICAgIGA8cCBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5Db250ZW50IHNlY3Rpb25zICgke3NlY3Rpb25SZXN1bHRzLmxlbmd0aH0pPC9wPmBcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgcmVzdWx0IG9mIHNlY3Rpb25SZXN1bHRzKSB7XG4gICAgICAgICAgICByZXN1bHRPYmplY3QuYXBwZW5kKGBcblx0XHQgIDxhIGhyZWY9XCIke3Jlc3VsdC51cmx9XCIgY2xhc3M9XCJzbi1zZWFyY2gtcmVzdWx0LWxpbmtcIj5cblx0XHQgIDxkaXYgY2xhc3M9XCJyZXN1bHRcIj5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtaGVhZGVyXCI+JHtoaWdobGlnaHRSYW5nZXMoXG4gICAgICAgIHJlc3VsdC50ZXh0LFxuICAgICAgICByZXN1bHQuc3RhcnRJbmRleCxcbiAgICAgICAgcmVzdWx0LmVuZEluZGV4XG4gICAgICApfTwvcD5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtdGV4dFwiPk9uIHBhZ2UgJHtyZXN1bHQuY2F0ZWdvcnl9PC9wPlxuXHRcdCAgPC9kaXY+XG5cdFx0ICA8L2E+YCk7XG4gICAgICAgICAgICAvLyBBbGxvdyB1cCB0byA1IHJlc3VsdHMgdG8gYmUgc2hvd25cbiAgICAgICAgICAgIGlmICgrK2NvdW50ID4gNSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIHRleHQgYmxvY2sgcmVzdWx0c1xuICAgIGlmIChjb250ZW50UmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlc3VsdE9iamVjdC5hcHBlbmQoXG4gICAgICAgICAgICBgPHAgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+Q29udGVudCAoJHtjb250ZW50UmVzdWx0cy5sZW5ndGh9KTwvcD5gXG4gICAgICAgICk7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IHJlc3VsdCBvZiBjb250ZW50UmVzdWx0cykge1xuICAgICAgICAgICAgcmVzdWx0T2JqZWN0LmFwcGVuZChgXG5cdFx0ICA8YSBocmVmPVwiJHtyZXN1bHQudXJsfVwiIGNsYXNzPVwic24tc2VhcmNoLXJlc3VsdC1saW5rXCI+XG5cdFx0ICA8ZGl2IGNsYXNzPVwicmVzdWx0XCI+XG5cdFx0XHQ8cCBjbGFzcz1cInNlY3Rpb24tcmVzdWx0LWhlYWRlclwiPiR7aGlnaGxpZ2h0UmFuZ2VzKFxuICAgICAgICByZXN1bHQudGV4dCxcbiAgICAgICAgcmVzdWx0LnN0YXJ0SW5kZXgsXG4gICAgICAgIHJlc3VsdC5lbmRJbmRleFxuICAgICAgKX08L3A+XG5cdFx0XHQ8cCBjbGFzcz1cInNlY3Rpb24tcmVzdWx0LXRleHRcIj5PbiBwYWdlICR7cmVzdWx0LmNhdGVnb3J5fTwvcD5cblx0XHQgIDwvZGl2PlxuXHRcdCAgPC9hPmApO1xuICAgICAgICAgICAgLy8gQWxsb3cgdXAgdG8gMjAgcmVzdWx0cyB0byBiZSBzaG93blxuICAgICAgICAgICAgaWYgKCsrY291bnQgPiAyMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnLnNuLXNlYXJjaC1yZXN1bHQtbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaGlkZUlmU2hvd25TZWFyY2goKTtcbiAgICB9KTtcblxuICAgIHJlc2V0QWN0aXZlU2VhcmNoSW5kZXgoKTtcbiAgICB1cGRhdGVBY3RpdmVTZWFyY2hJbmRleCgpO1xufSk7XG5cbmZ1bmN0aW9uIHJlc2V0QWN0aXZlU2VhcmNoSW5kZXgoKSB7XG4gICAgYWN0aXZlU2VhcmNoSW5kZXggPSAwO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVTZWFyY2hJbmRleCgpIHtcbiAgICAkKCcuc24tc2VhcmNoLXJlc3VsdC1saW5rJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgY29uc3QgYWN0aXZlUmVzdWx0ID0gJChgLnNuLXNlYXJjaC1yZXN1bHQtbGluazplcSgke2FjdGl2ZVNlYXJjaEluZGV4fSlgKTtcbiAgICBpZiAoYWN0aXZlUmVzdWx0KSB7XG4gICAgICAgIGFjdGl2ZVJlc3VsdC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChhY3RpdmVSZXN1bHRbMF0sIGFjdGl2ZVJlc3VsdC5wYXJlbnQoKVswXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcmV2aW91c1NlYXJjaFJlc3VsdChldmVudCkge1xuICAgIGlmICghJCgnLlNOU2VhcmNoJykuaXMoJy5hY3RpdmUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGFjdGl2ZVNlYXJjaEluZGV4ID4gMCkge1xuICAgICAgICBhY3RpdmVTZWFyY2hJbmRleC0tO1xuICAgIH1cbiAgICB1cGRhdGVBY3RpdmVTZWFyY2hJbmRleCgpO1xufVxuXG5mdW5jdGlvbiBuZXh0U2VhcmNoUmVzdWx0KGV2ZW50KSB7XG4gICAgaWYgKCEkKCcuU05TZWFyY2gnKS5pcygnLmFjdGl2ZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoYWN0aXZlU2VhcmNoSW5kZXggPCAkKCcuc24tc2VhcmNoLXJlc3VsdC1saW5rJykubGVuZ3RoIC0gMSkge1xuICAgICAgICBhY3RpdmVTZWFyY2hJbmRleCsrO1xuICAgIH1cbiAgICB1cGRhdGVBY3RpdmVTZWFyY2hJbmRleCgpO1xufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZUN1cnJlbnRTZWFyY2hSZXN1bHQoZXZlbnQpIHtcbiAgICBpZiAoISQoJy5TTlNlYXJjaCcpLmlzKCcuYWN0aXZlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGxpbmsgPSAkKGAuc24tc2VhcmNoLXJlc3VsdC1saW5rOmVxKCR7YWN0aXZlU2VhcmNoSW5kZXh9KWApO1xuICAgIGlmIChsaW5rKSB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgICAgIGhpZGVJZlNob3duU2VhcmNoKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhpZ2hsaWdodFJhbmdlcyhzLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGlmIChzdGFydEluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBsZXQgYmVnaW5uaW5nID0gcy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCk7XG4gICAgbGV0IHNlYXJjaFJlc3VsdCA9IHMuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICBsZXQgZW5kID0gcy5zdWJzdHJpbmcoZW5kSW5kZXgpO1xuXG4gICAgcmV0dXJuIGAke2JlZ2lubmluZ308c3Bhbj4ke3NlYXJjaFJlc3VsdH08L3NwYW4+JHtlbmR9YDtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVJhbmdlKHMsIHN0YXJ0LCBlbmQsIHN1YnN0aXR1dGUpIHtcbiAgICByZXR1cm4gcy5zdWJzdHJpbmcoMCwgc3RhcnQpICsgc3Vic3RpdHV0ZSArIHMuc3Vic3RyaW5nKGVuZCk7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3SWZOZWVkZWQodGFyZ2V0LCBwYXJlbnQpIHtcbiAgICBsZXQgcmVjdEVsZW0gPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHJlY3RDb250YWluZXIgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHJlY3RFbGVtLmJvdHRvbSA+IHJlY3RDb250YWluZXIuYm90dG9tKSB0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoZmFsc2UpO1xuICAgIGlmIChyZWN0RWxlbS50b3AgPCByZWN0Q29udGFpbmVyLnRvcCkgdGFyZ2V0LnNjcm9sbEludG9WaWV3KCk7XG59XG5cbmhvdGtleXMuZmlsdGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBIb3RrZXlzXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmhvdGtleXMoJ2NtZCtrLGN0cmwrayxlc2MsIHVwLCBkb3duLCBlbnRlciwgcmV0dXJuJywgZnVuY3Rpb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBzd2l0Y2ggKGhhbmRsZXIua2V5KSB7XG4gICAgICAgIGNhc2UgJ2VzYyc6XG4gICAgICAgICAgICBoaWRlT3JDbGVhclNlYXJjaChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY21kK2snOlxuICAgICAgICBjYXNlICdjdHJsK2snOlxuICAgICAgICAgICAgc2hvd1NlYXJjaChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgcHJldmlvdXNTZWFyY2hSZXN1bHQoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgbmV4dFNlYXJjaFJlc3VsdChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICBjYXNlICdyZXR1cm4nOlxuICAgICAgICAgICAgYWN0aXZhdGVDdXJyZW50U2VhcmNoUmVzdWx0KGV2ZW50KTtcbiAgICB9XG59KTsiLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgc3luY3Njcm9sbCAtIHNjcm9sbCBzZXZlcmFsIGFyZWFzIHNpbXVsdGFuaW91c2x5XG4gKiBAdmVyc2lvbiAwLjAuM1xuICogXG4gKiBAbGljZW5zZSBNSVQsIHNlZSBodHRwOi8vZ2l0aHViLmNvbS9hc3ZkL2ludGVuY2VcbiAqIEBjb3B5cmlnaHQgMjAxNSBhc3ZkIDxoZWxpb3NmcmFtZXdvcmtAZ21haWwuY29tPiBcbiAqL1xuXG4gKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5zeW5jc2Nyb2xsID0ge30pKTtcbiAgICB9XG59KHRoaXMsZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgICB2YXIgV2lkdGggPSAnV2lkdGgnO1xuICAgIHZhciBIZWlnaHQgPSAnSGVpZ2h0JztcbiAgICB2YXIgVG9wID0gJ1RvcCc7XG4gICAgdmFyIExlZnQgPSAnTGVmdCc7XG4gICAgdmFyIHNjcm9sbCA9ICdzY3JvbGwnO1xuICAgIHZhciBjbGllbnQgPSAnY2xpZW50JztcbiAgICB2YXIgRXZlbnRMaXN0ZW5lciA9ICdFdmVudExpc3RlbmVyJztcbiAgICB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9ICdhZGQnICsgRXZlbnRMaXN0ZW5lcjtcbiAgICB2YXIgbGVuZ3RoID0gJ2xlbmd0aCc7XG4gICAgdmFyIE1hdGhfcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIG5hbWVzID0ge307XG5cbiAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3luYycrc2Nyb2xsKTtcblxuICAgICAgICAvLyBjbGVhcmluZyBleGlzdGluZyBsaXN0ZW5lcnNcbiAgICAgICAgdmFyIGksIGosIGVsLCBmb3VuZCwgbmFtZTtcbiAgICAgICAgZm9yIChuYW1lIGluIG5hbWVzKSB7XG4gICAgICAgICAgICBpZiAobmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmFtZXNbbmFtZV1bbGVuZ3RoXTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzW25hbWVdW2ldWydyZW1vdmUnK0V2ZW50TGlzdGVuZXJdKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsLCBuYW1lc1tuYW1lXVtpXS5zeW4sIDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXR0aW5nLXVwIHRoZSBuZXcgbGlzdGVuZXJzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtc1tsZW5ndGhdOykge1xuICAgICAgICAgICAgZm91bmQgPSBqID0gMDtcbiAgICAgICAgICAgIGVsID0gZWxlbXNbaSsrXTtcbiAgICAgICAgICAgIGlmICghKG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBuYW1lIGF0dHJpYnV0ZSBpcyBub3Qgc2V0XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsID0gZWxbc2Nyb2xsKydlciddfHxlbDsgIC8vIG5lZWRlZCBmb3IgaW50ZW5jZVxuXG4gICAgICAgICAgICAvLyBzZWFyY2hpbmcgZm9yIGV4aXN0aW5nIGVudHJ5IGluIGFycmF5IG9mIG5hbWVzO1xuICAgICAgICAgICAgLy8gc2VhcmNoaW5nIGZvciB0aGUgZWxlbWVudCBpbiB0aGF0IGVudHJ5XG4gICAgICAgICAgICBmb3IgKDtqIDwgKG5hbWVzW25hbWVdID0gbmFtZXNbbmFtZV18fFtdKVtsZW5ndGhdOykge1xuICAgICAgICAgICAgICAgIGZvdW5kIHw9IG5hbWVzW25hbWVdW2orK10gPT0gZWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICBuYW1lc1tuYW1lXS5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuZVggPSBlbC5lWSA9IDA7XG5cbiAgICAgICAgICAgIChmdW5jdGlvbihlbCwgbmFtZSkge1xuICAgICAgICAgICAgICAgIGVsW2FkZEV2ZW50TGlzdGVuZXJdKFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIGVsLnN5biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbmFtZXNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxYID0gZWxbc2Nyb2xsK0xlZnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFkgPSBlbFtzY3JvbGwrVG9wXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHhSYXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWxbc2Nyb2xsK1dpZHRoXSAtIGVsW2NsaWVudCtXaWR0aF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHlSYXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxZIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWxbc2Nyb2xsK0hlaWdodF0gLSBlbFtjbGllbnQrSGVpZ2h0XSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVYID0gc2Nyb2xsWCAhPSBlbC5lWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVZID0gc2Nyb2xsWSAhPSBlbC5lWTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG90aGVyRWwsIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5lWCA9IHNjcm9sbFg7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5lWSA9IHNjcm9sbFk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO2kgPCBlbGVtc1tsZW5ndGhdOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRWwgPSBlbGVtc1tpKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdGhlckVsICE9IGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoX3JvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRWxbc2Nyb2xsK0xlZnRdIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2Nyb2xsWCA9IG90aGVyRWwuZVggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoX3JvdW5kKHhSYXRlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvdGhlckVsW3Njcm9sbCtXaWR0aF0gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRWxbY2xpZW50K1dpZHRoXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRWxbc2Nyb2xsK0xlZnRdID0gc2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGhfcm91bmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtzY3JvbGwrVG9wXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNjcm9sbFkgPSBvdGhlckVsLmVZID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aF9yb3VuZCh5UmF0ZSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3RoZXJFbFtzY3JvbGwrSGVpZ2h0XSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtjbGllbnQrSGVpZ2h0XSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRWxbc2Nyb2xsK1RvcF0gPSBzY3JvbGxZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pKGVsLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAgICBcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3dbYWRkRXZlbnRMaXN0ZW5lcl0oXCJsb2FkXCIsIHJlc2V0LCAwKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG59KSk7XG5cbiIsIiQuZXh0ZW5kKHtcbiAgdG9hc3Q6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICgkKCcjdG9hc3QtZGl2JykubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpdGxlID0gb2JqLnRpdGxlO1xuICAgIHZhciBzaG93VGltZSA9IG9iai5kdXJhdGlvbiB8fCAyMDAwO1xuICAgIHZhciB3aWR0aCA9IG9iai53aWR0aCB8fCAnYXV0byc7XG4gICAgdmFyIGhlaWdodCA9IG9iai5oZWlnaHQgfHwgJzE2cHgnO1xuICAgIHZhciBwb3NpdGlvbiA9IG9iai5wb3NpdGlvbiB8fCAnJztcbiAgICB2YXIgYmFja2dyb3VuZENvbG9yID0gb2JqLmJhY2tncm91bmRDb2xvciB8fCAncmdiYSgwLCAwLCAwLCAuNyknO1xuICAgIHZhciB0ZXh0Q29sb3IgPSBvYmoudGV4dENvbG9yIHx8ICcjZmZmJztcbiAgICB2YXIgZmxhZyA9IG9iai5mbGFnIHx8IHRydWU7XG4gICAgdmFyIGxpbmVoZWlnaHQgPSBvYmoubGluZWhlaWdodCB8fCBoZWlnaHQ7XG5cbiAgICBpZiAocG9zaXRpb24gPT0gJ2JvdHRvbScpIHtcbiAgICAgIHBvc2l0aW9uID0gJ2JvdHRvbTogNDhweDsnO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT0gJ21pZGRsZScpIHtcbiAgICAgIHBvc2l0aW9uID0gJ3RvcDogY2FsYyg0NSUgLSAxNXB4KTsnO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT0gJ3RvcCcpIHtcbiAgICAgIHBvc2l0aW9uID0gJ3RvcDogMHB4Oyc7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJycpIHtcbiAgICAgIHBvc2l0aW9uID0gJ3RvcDogODAlOyc7XG4gICAgfSBlbHNlIHtcbiAgICB9XG4gICAgaWYgKGZsYWcpIHtcbiAgICAgIHZhciBjb250ZW50ID1cbiAgICAgICAgXCI8ZGl2IGlkPSd0b2FzdC1kaXYnIHN0eWxlPSdwb3NpdGlvbjogZml4ZWQ7ZGlzcGxheTogbm9uZTsgei1pbmRleDo5OTk7Zm9udC1zaXplOiAxOHB4OyBcIiArXG4gICAgICAgIHBvc2l0aW9uICtcbiAgICAgICAgJztsZWZ0OiAwO3dpZHRoOjEwMCU7IGhlaWdodDogJyArXG4gICAgICAgIGhlaWdodCArXG4gICAgICAgIFwiOyB0ZXh0LWFsaWduOiBjZW50ZXInPlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29udGVudCA9XG4gICAgICAgIFwiPGRpdiBpZD0ndG9hc3QtZGl2JyBzdHlsZT0ncG9zaXRpb246IGZpeGVkOyBkaXNwbGF5OiBub25lO3otaW5kZXg6OTk5OyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiA1MDA7IHRvcDogMDsgbGVmdDogMDt3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgdGV4dC1hbGlnbjogY2VudGVyJz5cIjtcbiAgICB9XG4gICAgY29udGVudCArPVxuICAgICAgJzxkaXYgaWQ9XCJ0b2FzdC1jb250ZW50XCIgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAnICtcbiAgICAgIHdpZHRoICtcbiAgICAgICc7bWluLWhlaWdodDogJyArXG4gICAgICBoZWlnaHQgK1xuICAgICAgJztwYWRkaW5nOiA4cHg7YmFja2dyb3VuZC1jb2xvcjogJyArXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgK1xuICAgICAgJzt0ZXh0LWFsaWduOiBjZW50ZXI7Zm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogNTAwO2xpbmUtaGVpZ2h0OiAnICtcbiAgICAgIGxpbmVoZWlnaHQgK1xuICAgICAgJztib3JkZXItcmFkaXVzOiA0cHg7Y29sb3I6ICcgK1xuICAgICAgdGV4dENvbG9yICtcbiAgICAgICc7XCI+JyArXG4gICAgICB0aXRsZSArXG4gICAgICAnPC9kaXY+JztcbiAgICBjb250ZW50ICs9ICc8L2Rpdj4nO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoY29udGVudCk7XG4gICAgJCgnI3RvYXN0LWRpdicpLmZhZGVJbigyMDApO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkKCcjdG9hc3QtZGl2JykuZmFkZU91dCgyMDApO1xuICAgIH0sIHNob3dUaW1lKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJCgnI3RvYXN0LWRpdicpLnJlbW92ZSgpO1xuICAgIH0sIHNob3dUaW1lICsgMzAwKTtcbiAgfVxufSk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9hc3NldHMvanMvdG9hc3QuanNcIik7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vYXNzZXRzL2pzL3N5bmNzY3JvbGwuanNcIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9hc3NldHMvanMvc2VhcmNoLmpzXCIpO1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zY3NzL21haW4uc2Nzc1wiKTtcbiJdLCJuYW1lcyI6WyJzaG93U2VhcmNoIiwiZSIsIiQiLCJ0b2dnbGVDbGFzcyIsImlzIiwidmFsIiwiZm9jdXMiLCJodG1sIiwicHJldmVudERlZmF1bHQiLCJoaWRlSWZTaG93blNlYXJjaCIsInJlbW92ZUNsYXNzIiwib24iLCJzdG9wUHJvcGFnYXRpb24iLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbmltYXRpb25OYW1lIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiYWN0aXZlU2VhcmNoSW5kZXgiLCJ1cGRhdGVBY3RpdmVTZWFyY2hJbmRleCIsImFjdGl2ZVJlc3VsdCIsImFkZENsYXNzIiwicGFyZW50IiwicmVjdEVsZW0iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZWN0Q29udGFpbmVyIiwiYm90dG9tIiwic2Nyb2xsSW50b1ZpZXciLCJ0b3AiLCJzY3JvbGxJbnRvVmlld0lmTmVlZGVkIiwiaGlnaGxpZ2h0UmFuZ2VzIiwicyIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInN1YnN0cmluZyIsInNlYXJjaFN0cmluZyIsInRoaXMiLCJyZXN1bHRPYmplY3QiLCJsZW5ndGgiLCJzZWFyY2hSZXN1bHQiLCJGdXNlIiwiRnVzZVNlYXJjaERhdGEiLCJzaG91bGRTb3J0IiwidGhyZXNob2xkIiwibG9jYXRpb24iLCJkaXN0YW5jZSIsIm1heFBhdHRlcm5MZW5ndGgiLCJtaW5NYXRjaENoYXJMZW5ndGgiLCJpZ25vcmVMb2NhdGlvbiIsImtleXMiLCJzZWFyY2giLCJjb250ZW50UmVzdWx0cyIsInNlY3Rpb25SZXN1bHRzIiwicGFnZVJlc3VsdHMiLCJyZXN1bHQiLCJpdGVtIiwidGV4dCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInR5cGUiLCJwdXNoIiwicmVzdWx0cyIsImFwcGVuZCIsImNvdW50IiwidXJsIiwiY2F0ZWdvcnkiLCJob3RrZXlzIiwiZmlsdGVyIiwiZXZlbnQiLCJoYW5kbGVyIiwia2V5IiwicHJldmlvdXNTZWFyY2hSZXN1bHQiLCJuZXh0U2VhcmNoUmVzdWx0IiwibGluayIsImhyZWYiLCJhdHRyIiwid2luZG93IiwiYWN0aXZhdGVDdXJyZW50U2VhcmNoUmVzdWx0IiwiZXhwb3J0cyIsIldpZHRoIiwiSGVpZ2h0IiwiVG9wIiwiTGVmdCIsInNjcm9sbCIsImNsaWVudCIsIkV2ZW50TGlzdGVuZXIiLCJNYXRoX3JvdW5kIiwiTWF0aCIsInJvdW5kIiwibmFtZXMiLCJyZXNldCIsImkiLCJqIiwiZWwiLCJmb3VuZCIsIm5hbWUiLCJlbGVtcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsInN5biIsImdldEF0dHJpYnV0ZSIsImVYIiwiZVkiLCJvdGhlckVsIiwic2Nyb2xsWCIsInNjcm9sbFkiLCJ4UmF0ZSIsInlSYXRlIiwidXBkYXRlWCIsInVwZGF0ZVkiLCJyZWFkeVN0YXRlIiwiZXh0ZW5kIiwidG9hc3QiLCJvYmoiLCJ0aXRsZSIsInNob3dUaW1lIiwiZHVyYXRpb24iLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGV4dENvbG9yIiwiZmxhZyIsImNvbnRlbnQiLCJsaW5laGVpZ2h0IiwiZmFkZUluIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9